<!-- Stylesheet --><link href="http://kevinburke.bitbucket.org/markdowncss/markdown.css" rel="stylesheet"></link><link href="http://sunsunsoft.com/css/hoge.css" rel="stylesheet"></link><span class="title">Xcodeメモ</span><!-- もくじ -->[TOC]#タブタブを使うとコーディング用の環境やデバッグ用の環境を簡単に切り替えることができる。タブを使うには `Cmd + T` でタブを開いてからそれぞれのタブを`Cmd + Shift + [ or ]`で切り替える。タブ関連のショートカット|command | function||!--|!--|  Cmd + T |  タブを追加  Cmd + Shift + [ |  前のタブ  Cmd + Shift + ] |  次のタブ    １つ目のタブを表示![タブ1](http://sunsunsoft.com/image/xcode/xcode_tab1.jpg)２つ目のタブを表示![タブ2](http://sunsunsoft.com/image/xcode/xcode_tab2.jpg)#xib##アウトレット接続xib上のUIViewパーツを.swift上に接続する方法  オブジェクトを Ctrl + 右クリック でドラッグしたまま、UIViewControllerクラスのソースファイルにドロップする![Outlet](http://sunsunsoft.com/image/xcode/outlet_connect.png)##イベント処理を追加xib上のオブジェクトのイベント処理をswiftに追加する方法。  オブジェクトを右クリックでポップアップを表示させ、[Touch Up Inside]から左ドラッグでUIViewControllerのソースファイルにドロップする  ![Outlet](http://sunsunsoft.com/image/xcode/outlet_connect2.png)    ドロップ先のソースファイル上にポップアップが表示されるので、"name" に ボタンが押された時に呼ばれるメソッド名を入力してから [Connect]ボタンを押す。  ![Outlet](http://sunsunsoft.com/image/xcode/outlet_connect3.png)#プロビジョニングプロファイル(provisioning profile)##プロビジョニングプロファイルとは？PPはアプリを動かしたい端末にインストールする必要がある用途：  デバッグ端末にアプリをインストールするためのファイル。この名前のアプリを、これらのデバイス上で、この期限まで実行できる権限をインストールした端末に許可しますよ。     例：    「ドラクエ」というアプリを    「うんちゃんのiPhone」の端末上で    「2013年12月31日」まで    実行できるプロビジングプロファイルがある。  このプロビジョニングプロファイルを「うんちゃんのiPhone」の端末にインストールすると「うんちゃんのiPhone」の端末に「ドラクエ」をインストールすることができるようになる。「ドラクエ」の部分にワイルドカード(*)を設定するとどんなアプリでも「うんちゃんのiPhone」の端末で「2013年12月31日」までインストールできるプロビジョニングを作ることもできる。  含まれる情報:    Development　開発用に許可された端末でのみ実行可能    Distribution(App Store)   AppStore配布用      Distribution(Adhoc)Adhoc配布用。ipaファイル、もしくはWebページからインストールする用    　App ID: アプリ識別ID。他のアプリと重複しないドメインを反対からくっつけた文字列    　デバッグで使用する場合はどのアプリでも使用できるようにワイルドカードの "*"にしておくと便利。      Certificates: 開発者(の証明書)      Devices: 動作可能な端末のUDID      Enabled Services: アプリの機能(Push通知ができるか等)      Expires: 期限（この期限を越えるとインストールできなくなる）)    　　　##プロビジョニングの詳細を確認する方法   　コマンドラインから   openssl pkcs7 -inform der -print_certs -in ameba_oogiri_Development.mobileprovision -text##code signingの設定について    code signing の設定 = モバイルプロビジョニングの設定    code signing で設定する項目は       iPhone Developer: <開発者名> (7ZSHVU6UNS)    のように表示されるが、7ZSHVU6UNS はiOS Developer AccountのTeam IDのこと。    つまり、開発者のIDのこと。    アプリのTARGETS-Infoで    「code signing」を設定するが、この設定で端末でデバッグできるようになったり    ならなかったりする仕組み。    code signing で「うんちゃん」を設定すると実際には「うんちゃん」をもつ    プロビジョニングも一緒に設定される。    アプリをビルドするときにこのプロビジョニングを元に    　アプリ名「どらくえ」と Bundle Identifier のアプリ名が一致するか？    　デバッグ端末が「うんちゃんのiPhone」という端末か？   　というチェックを行っている。       開発用デバイスや開発用証明書を追加するとXcodeが自動で生成／更新する特殊な開発用    プロビジョニングプロファイルで、その開発用アカウントに登録されている全てのメンバー、    アプリケーション、デバイスに対応しています。    開発用アカウントの全ての開発用証明書とデバイスID、そしてiOSワイルドカードアプリケーションIDが    含まれます。    ただし特定の機能（iCloud、プッシュ通知、In-App Purchase、Game Center）を    組み込んだアプリケーションは、それに対応した特別な開発用プロビジョニングプロファイルが    必要になるため、iOSチームプロビジョニングプロファイルは使用できません。#デバッグ(Debug)<!-- debug:: p:: po:: -->##コンソール  コンソールに (lldb) コマンドを入力  `p 変数名`  変数の値を出力<br>    (lldb) p hoge    // コマンド    (Int) $R2 = 100  // 結果の表示  po 変数名 |  オブジェクトの内容を出力    (lldb) po viewController1    ▿ Optional<ViewController>      ▿ Some : <UNButton.ViewController: 0x7fe7c1d0b680>  p 変数名 = 値 |   //変数値の変更    (lldb) p hoge = 123    (lldb) p hoge    (Int) $R4 = 123    self.viewの階層を再帰的に表示~~~    po [self.view recursiveDescription]    <AONotificationButton: 0x1b8a4a50; baseClass = UIButton; frame = (248 0; 72 44); opaque = NO; tag = 1; layer = <CALayer: 0x1b8aa760>>        | <UIImageView: 0x17d09ab0; frame = (0 0; 72 44);        | <UIImageView: 0x1b97b020; frame = (36 2; 33.5 22);   |    | <UILabel: 0x17d4ac50; frame = (7 1; 30 20);   h    ヘルプの表示  help  s    ステップイン thread step-in  c    続きを実行(次のbreakPointまで)   process continue  po    式の評価(poはオブジェクト、pは基本型も可) expression -o --  br l  breakPointを一覧表示 breakpoint list  bt    現スレッドのバックトレース情報を表示  thread backtrace  b objc_msgSend   objc_msgSend関数にシンボリックブレークポイントを設定 -~~~#便利機能##検索と置換の切り替え replace<!-- replace:: -->XCodeのエディタで文字列の置換を行う方法  Cmd + F で検索バーを表示させ、バーの左側にある "Find" の部分をクリックして"Replace"に変更する  ![置換設定1](http://sunsunsoft.com/image/xcode/replace_setting1.jpg)![置換設定2](http://sunsunsoft.com/image/xcode/replace_setting2.jpg)##静的コードチェックXCodeのメニュー [Product] - [Analyze]  コードをチェックして文法的にまずい点を指摘してくれる。結果は Cmd + 4 でissueを表示して確認する。  ![置換設定2](http://sunsunsoft.com/image/xcode/xcode_analyze.jpg)##アシスタントエディタでソースを表示するOption を押しながらファイルクリックで　アシスタントエディターに表示する##ドキュメントをブックマークするOrganizer から Document で適当なドキュメントを開き、左の一覧から項目を→クリックして Add Bookmarkを選択する##コードの整形(UncrustifyPlugin)  https://github.com/benoitsan/BBUncrustifyPlugin-Xcode/releases  をインストールすると  xcode - edit - code format の項目が追加される##例外発生個所でプログラムを停止させる方法。  [Xcodeで例外が発生したときにブレークする](http://qiita.com/makoto_kw/items/a4346cf5d8124ecd13ec)    * Break Point Navigator を表示  * 左下の+ボタンを押し、Add Exception Breakpoint…を選択#その他###フォルダの追加方法  プロジェクトにフォルダを追加する際に２つタイプが選べる        1. Create groups for any added folders     2. Create folder references for any added folders  1は現時点でのファイルのみ追加される。後からフォルダにファイルが追加されても追加されない。  2は参照を作るので、フォルダの内容が適時反映される。ファイルを追加したらプロジェクトにも追加される。![置換設定2](http://sunsunsoft.com/image/xcode/xcode_add_folder.jpg)![置換設定2](http://sunsunsoft.com/image/xcode/xcode_add_folder2.jpg)  ### 静的ソース解析![置換設定2](http://sunsunsoft.com/image/xcode/xcode_analyze.jpg)  ###xibファイルを作成する  XcodeのFileメニューから [File]->[New]->[File...]から[User Interface]の[Empty]、もしくは[View]を選択  でxibファイルを作成(Sample.xibとする)。###ワークスペースにプロジェクトを追加　ワークスペースで複数のプロジェクトを管理すると、Xcodeを１つだけ立ち上げるだけで済むため便利  * ワークスペース(xcworkspace)を作成する  * Xcodeのメニューの [File] - [New] - [WorkSpace] でワークスペースを作成  * ワークスペースにプロジェクト(xcodeproj)を追加  * ワークスペースを開いてから、プロジェクトインスペクタにプロジェクトファイル(xcodeproj)を  * ドロップする。このとき、プロジェクトファイルを別のxcodeで開いていると追加先のプロジェクトに  * ファイルが追加されないため、追加元のプロジェクトは閉じておくこと。###構成を新規追加  PROECT - Info -  Configurations で + ボタンを押してベースとなる構成を選択して追加する  構成を追加したら TARGETS - Build Settings - Preprocessor Macros に  その構成で定義されるマクロ(define)を設定する#注意点###ファイルの保存実行時に自動でファイルの保存を行ってくれないので、自前で保存を行う必要がある。特にInterface Builder は保存し忘れが多い。  #エラー(Error)忘れた頃に同じエラーにはまることが多いので、エラー内容と解決策をまとめておく。~~~  error: failed to attach to process ID xxxx  http://fiahfy.blogspot.jp/2013/02/ios.html~~~➡hosts に localhosts 127.0.0.0 を追加する  ~~~　CodeSign error: code signing is required for product type 'Application' in SDK 'iOS 7.0'~~~ Targetの "Code Signing Identity" に何も設定しない("Don't code sign") アプリを端末で実行するにはアプリの開発者情報がないとだめ！~~~ code signing をどう設定しても code sign系のエラーが出る。 Code Sign error: No matching provisioning profile found: Your build settings specify a provisioning profile with the UUID~~~ みたいなやつ。 UUIDはプロビジョニングプロファイルの識別用のIDで そんなプロビジョニングプロファイルねーよと怒られている。原因はxcodeのバグで、以前設定していたプロビジョニングプロファイルを手動で消したりすると、それが変更できなくなるというもの [http://d.hatena.ne.jp/paraches/20111101](http://d.hatena.ne.jp/paraches/20111101) を参考に .xcodeprojに含まれる "project.pbxproj" の PROVISIONING_PROFILEを直接編集することで変更不能状態を解除できる。    No matching provisioning profiles found間違った code signを設定するとこのエラーが発生する。間違ったcode signを設定するとそのプロビジョニングプロファイルの AppID とアプリの BundleIDが一致しないのでこのエラーになる。###構成を追加したらPodsをインストールし直すこと 新しくBuild Configurationsに "Debug_local"を追加し Debug_localに切り替えてビルドしたらリンカ時に -lPods がない (libPods.aがない)というエラーが出た。 Podsをインストールし直したらビルドが成功。 Podsをインストールする際にプロジェクトファイルも書き換えているようなので 新しいConfigurationを追加したら pod install もしくは pod updateを実行する。#リンク[[iOS] アプリ名を変更する](http://qiita.com/hiroo0529/items/24b027b9708d14200b56)